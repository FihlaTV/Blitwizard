<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Blitwizard API reference</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>blitwizard</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Class_camera">Class camera </a></li>
</ul>


<h2>Modules</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><a href="../modules/blitwizard.html">blitwizard</a></li>
  <li><a href="../modules/blitwizard.audio.html">blitwizard.audio</a></li>
  <li><a href="../modules/blitwizard.console.html">blitwizard.console</a></li>
  <li><a href="../modules/blitwizard.debug.html">blitwizard.debug</a></li>
  <li><a href="../modules/blitwizard.font.html">blitwizard.font</a></li>
  <li><strong>blitwizard.graphics</strong></li>
  <li><a href="../modules/blitwizard.net.html">blitwizard.net</a></li>
  <li><a href="../modules/blitwizard.net.http.html">blitwizard.net.http</a></li>
  <li><a href="../modules/blitwizard.net.irc.html">blitwizard.net.irc</a></li>
  <li><a href="../modules/blitwizard.physics.html">blitwizard.physics</a></li>
  <li><a href="../modules/os.html">os</a></li>
  <li><a href="../modules/string.html">string</a></li>
  <li><a href="../modules/vector.html">vector</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>blitwizard.graphics</code></h1>
<p>The blitwizard graphics namespace allows to set up the graphics device
 for graphical 2d/3d output.</p>
<p></p>
    <h3>Info:</h3>
    <ul>
        <li><strong>Copyright</strong>: 2011-2013</li>
        <li><strong>License</strong>: zlib</li>
        <li><strong>Author</strong>: Jonas Thiem (jonas.thiem@gmail.com) et al</li>
    </ul>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" ><a href="#createDynamicTexture">createDynamicTexture (texture_name, lua_file_name, callback, parameters)</a></td>
	<td class="summary">Create a runtime-created texture with the given name,
 and the given lua file which gets executed to create
 the image, and the given callback function which
 gets executed once the texture has been created.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#forceTextureReload">forceTextureReload (path)</a></td>
	<td class="summary">Force a specified texture to be reloaded from disk
 (from the original file path).</td>
	</tr>
	<tr>
	<td class="name" ><a href="#gameUnitToPixels">gameUnitToPixels ()</a></td>
	<td class="summary">Get the extent (in pixels) of a 2d object that make up
 one ??? at a default
 object scale of 1.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#getCameras">getCameras ()</a></td>
	<td class="summary">Get a table array with all currently active cameras.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#getDesktopDisplayMode">getDesktopDisplayMode ()</a></td>
	<td class="summary">Get the current display mode of the desktop.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#getDisplayModes">getDisplayModes ()</a></td>
	<td class="summary">Get all supported display modes as a list.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#getWindowSize">getWindowSize ()</a></td>
	<td class="summary">Get the current size of the graphics output window
 (which was set using <a href="../modules/blitwizard.graphics.html#setMode">blitwizard.graphics.setMode</a>) in pixels.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#setMode">setMode (width, height, title, fullscreen, renderer)</a></td>
	<td class="summary">This function sets the graphics mode.</td>
	</tr>
</table>
<h2><a href="#Class_camera">Class camera </a></h2>
<table class="function_list">
	<tr>
	<td class="name" ><a href="#camera:destroy">camera:destroy (camera)</a></td>
	<td class="summary">Destroy the given camera.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#camera:get2dZoomFactor">camera:get2dZoomFactor ()</a></td>
	<td class="summary">Get the 2d zoom factor (defaults to 1).</td>
	</tr>
	<tr>
	<td class="name" ><a href="#camera:getDimensions">camera:getDimensions (consider_zoom)</a></td>
	<td class="summary">Get the size of the camera in game units (so the size of the
 visible world area it shows).</td>
	</tr>
	<tr>
	<td class="name" ><a href="#camera:getPixelDimensionsOnScreen">camera:getPixelDimensionsOnScreen ()</a></td>
	<td class="summary">Get the dimensions of a camera on the actual
 screen.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#camera:new">camera:new ()</a></td>
	<td class="summary">Add a new camera.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#camera:screenPosTo2dWorldPos">camera:screenPosTo2dWorldPos (pos_x, pos_y, parallax)</a></td>
	<td class="summary">Specify a 2d position in the range from 0,0 to
 w,h with w,h being the camera visible area size
 as from ??? with consider_zoom set to <b>false</b>.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#camera:set2dCenter">camera:set2dCenter (x_position, y_position)</a></td>
	<td class="summary">Set the camera's 2d center which is the position in the 2d world
 centered by the camera.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#camera:set2dZoomFactor">camera:set2dZoomFactor (zoom_factor)</a></td>
	<td class="summary">Set the 2d zoom factor.</td>
	</tr>
	<tr>
	<td class="name" ><a href="#camera:setPixelDimensionsOnScreen">camera:setPixelDimensionsOnScreen (width, height)</a></td>
	<td class="summary">Set the dimensions of a camera on the screen.</td>
	</tr>
</table>

<br/>
<br/>


    <h2><a name="Functions"></a>Functions</h2>
    <dl class="function">
    <dt>
    <a name = "createDynamicTexture"></a>
    <strong>createDynamicTexture (texture_name, lua_file_name, callback, parameters)</strong>
    </dt>
    <dd>
    Create a runtime-created texture with the given name,
 and the given lua file which gets executed to create
 the image, and the given callback function which
 gets executed once the texture has been created.
 Add additional parameters which get passed
 to the lua function in the file.
<p> This allows the creation of textures from
 code at runtime, rather than just loading regular image
 files.
<p> For the given lua file name, you can also specify actual
 lua source code (as a string) instead of a file name.
<p> The only functions available to that
 executed lua file (or provided lua code) will be those
 in the ??? module (and some basic lua functions).
<p> After the callback has been called, the texture
 can be used e.g. for ???.
<p> Please note the dynamic image creation is <b>not optimised for speed</b>
 and it might take a while (a few seconds) for the callback to fire
 or even longer, depending on what your image creation function does.
<p> The image creation function gets run <i>in parallel</i> to your game
 though, so it won't block or stop anything until it's complete.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">texture_name</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>
         the name of the dynamic texture. Any string you like, but it mustn't have been used for a previous dynamic texture already.
        </li>
        <li><span class="parameter">lua_file_name</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>
         the name of a lua file to be executed. It will be run similar to dofile() does it, but inside the context of image creation with just ??? available. It needs to return an ??? at the end. Instead of a lua code file name, you can actually specify actual lua code aswell (as a string containing lua code, not a function)
        </li>
        <li><span class="parameter">callback</span>
            <span class="types"><span class="type">function</span></span>
         the callback function which will be called when the image creation was completed. As first parameter, it will be passed the texture_name string, as second true/or false depending on the success, and in case of failure (false), the third parameter will be an error string
        </li>
        <li><span class="parameter">parameters</span>
            <span class="types"><span class="type">any</span></span>
         (optional) any additional parameters here..
        </li>
    </ul>





</dd>
    <dt>
    <a name = "forceTextureReload"></a>
    <strong>forceTextureReload (path)</strong>
    </dt>
    <dd>
    Force a specified texture to be reloaded from disk
 (from the original file path).
<p> This is useful if you want to allow the user to change
 images which you can then reload on-the-fly.
<p> However, this shouldn't be a function you call regularly
 midgame. It can hang:
<p> <b>Important:</b> In rare cases, this function can cause
 a freeze of 1-3 seconds. Display some sort of loading
 indicator before you're calling it to avoid user confusion
 in such cases!
<p> <b>Note about callbacks:</b>
 Please note the ??? might fire again
 on 2d <a href="../modules/blitwizard.html#Class_object">objects</a> using the texture.



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">path</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>
         the file path of the texture to be unloaded
        </li>
    </ul>





</dd>
    <dt>
    <a name = "gameUnitToPixels"></a>
    <strong>gameUnitToPixels ()</strong>
    </dt>
    <dd>
    Get the extent (in pixels) of a 2d object that make up
 one ??? at a default
 object scale of 1.
<p> This value allows you to calculate how large an object
 would end up in game units if you're aware of the size
 the texture will have once it has been loaded.




    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">number</span></span>
        pixels The amount of pixels that equals one game unit at default zoom of 1
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">
 <span class="comment">-- Get the amount of pixels for one game unit:
</span> <span class="comment">-- (this will be inaccurate if your camera is zoomed)
</span> <span class="keyword">local</span> pixels = blitwizard.graphics.gameUnitToPixels()

 <span class="comment">-- Get the amount of pixels for one game unit, taking the
</span> <span class="comment">-- actual zoom level of the default camera into account:
</span> <span class="keyword">local</span> pixels = blitwizard.graphics.gameUnitToPixels() * blitwizard.graphics.getCameras()[<span class="number">1</span>]:get2dZoomFactor</pre>
    </ul>

</dd>
    <dt>
    <a name = "getCameras"></a>
    <strong>getCameras ()</strong>
    </dt>
    <dd>
    Get a table array with all currently active cameras.
 (per default, this is only one)



    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="http://www.lua.org/manual/5.2/manual.html#6.5">table</a></span>
        a table list array containing <a href="../modules/blitwizard.graphics.html#Class_camera">camera</a> items
    </ol>




</dd>
    <dt>
    <a name = "getDesktopDisplayMode"></a>
    <strong>getDesktopDisplayMode ()</strong>
    </dt>
    <dd>
    Get the current display mode of the desktop.
 You might want to use this with <a href="../modules/blitwizard.graphics.html#setMode">blitwizard.graphics.setMode</a>
 if you don't want to change the resolution in fullscreen
 at all (but instead use whatever the current resolution is).



    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">number</span></span>
        width in pixels</li>
        <li>
           <span class="types"><span class="type">number</span></span>
        height in pixels</li>
    </ol>




</dd>
    <dt>
    <a name = "getDisplayModes"></a>
    <strong>getDisplayModes ()</strong>
    </dt>
    <dd>
    Get all supported display modes as a list.
<p> Those are the width/height values you can possibly
 use for <a href="../modules/blitwizard.graphics.html#setMode">blitwizard.graphics.setMode</a> for fullscreen.
<p> Returns a list of tables, each one containing
 two entries for width and height.




    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="http://www.lua.org/manual/5.2/manual.html#6.5">table</a></span>
        list of resolution tables
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">
   <span class="comment">-- print out all display modes:
</span>   <span class="keyword">for</span> i,v <span class="keyword">in</span> <span class="global">ipairs</span>(blitwizard.graphics.getDisplayModes())
       <span class="global">print</span>(<span class="string">"Display mode: width: "</span> .. v[<span class="number">1</span>] .. <span class="string">", height: "</span> .. v[<span class="number">2</span>])
   <span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "getWindowSize"></a>
    <strong>getWindowSize ()</strong>
    </dt>
    <dd>
    Get the current size of the graphics output window
 (which was set using <a href="../modules/blitwizard.graphics.html#setMode">blitwizard.graphics.setMode</a>) in pixels.



    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">number</span></span>
        width</li>
        <li>
           <span class="types"><span class="type">number</span></span>
        height</li>
    </ol>




</dd>
    <dt>
    <a name = "setMode"></a>
    <strong>setMode (width, height, title, fullscreen, renderer)</strong>
    </dt>
    <dd>
    This function sets the graphics mode.
 You can specify a resolution, whether your game should run in a window
 or fullscreen, and if windowed whether the window is resizable.
<p> If you run in full screen, you should only use screen resolutions
 (width/height) present in <a href="../modules/blitwizard.graphics.html#getDisplayModes">blitwizard.graphics.getDisplayModes</a>.
<p> Feel free to use this function multiple times to change the mode again
 if you feel like doing so.
<p> If you specify no parameters, the graphics output will be closed again.
<p> Throws an error if graphics initialisation fails.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">width</span>
            <span class="types"><span class="type">number</span></span>
         Set the width of the output in pixels
        </li>
        <li><span class="parameter">height</span>
            <span class="types"><span class="type">height</span></span>
         Set the height of the output in pixels
        </li>
        <li><span class="parameter">title</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>
         (optional) Set the window title shown in the title bar. You can also specify nil if you want the default
        </li>
        <li><span class="parameter">fullscreen</span>
            <span class="types"><span class="type">boolean</span></span>
         (optional) Specify if you want to run fullscreen or windowed
        </li>
        <li><span class="parameter">renderer</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.2/manual.html#6.4">string</a></span>
         (optional) Specify a specific renderer you want. Available renderers are "direct3d" (Windows only), "opengl" and "software". Software rendering is slow and should only be used as a fallback. It's also only available if you compiled with SDL graphics. If you don't specify a renderer, the best one will be used
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">
 <span class="comment">-- Open a window with 800 x 600 pixel size and title "Test"
</span> blitwizard.graphics.setMode(<span class="number">800</span>, <span class="number">600</span>, <span class="string">"Test"</span>)</pre>
    </ul>

</dd>
</dl>
    <h2><a name="Class_camera"></a>Class camera </h2>

<p> A render camera has a rectangle on the screen which is a sort of
 "window" that shows a view into the 2d/3d world of your
 blitwizard game.
<p> Per default, you have one camera that fills up the whole
 screen with one single large view. But if you want to split
 the screen up e.g. for split screen multiplayer games, and show
 different world views side by side, you would want multiple
 cameras.
<p> <b>Important:</b> If you want to show a different part of the game world,
 this is where you want to be! Grab the first camera from
 <a href="../modules/blitwizard.graphics.html#getCameras">blitwizard.graphics.getCameras</a> and let's go:
<p> Use ???
 to modify the 2d world
 position shown, and
 ???
 to modify the 3d world position shown if you use any 3d objects.
<p> <i>Please note the SDL 2d renderer doesn't support more than one camera.
 The OGRE 3d renderer supports multiple cameras.</i>
    <dl class="function">
    <dt>
    <a name = "camera:destroy"></a>
    <strong>camera:destroy (camera)</strong>
    </dt>
    <dd>
    Destroy the given camera.
<p> It will be removed from the <a href="../modules/blitwizard.graphics.html#getCameras">blitwizard.graphics.getCameras</a> list
 and all references you still have to it will become invalid.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">camera</span>
            <span class="types"><span class="type">userdata</span></span>
         the <a href="../modules/blitwizard.graphics.html#Class_camera">camera</a> to be destroyed
        </li>
    </ul>





</dd>
    <dt>
    <a name = "camera:get2dZoomFactor"></a>
    <strong>camera:get2dZoomFactor ()</strong>
    </dt>
    <dd>
    Get the 2d zoom factor (defaults to 1).  See also
 ???.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">number</span></span>
        zoom_factor the zoom factor of the camera
    </ol>




</dd>
    <dt>
    <a name = "camera:getDimensions"></a>
    <strong>camera:getDimensions (consider_zoom)</strong>
    </dt>
    <dd>
    Get the size of the camera in game units (so the size of the
 visible world area it shows).
<p> consider_zoom = false gives you the area of
 ??? which the camera
 shows, which is not influenced by zoom. (this is the default if
 consider_zoom is no specified at all)
<p> consider_zoom = true is a special case useful for 2d,
 which gives you the camera's dimensions according to the current
 zoom factor.
<p> The result of this function depends on the camera's
 ???, the camera's
 ??? (for consider_zoom set to true) and the camera's
 ???.
<p> <i>Note on ??? 2d objects:</i>
 If you want to know the area visible in game units for
 ??? which are unaffected
 by camera zoom when drawn, specify <i>false</i> as first parameter
 for not taking the zoom into account.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">consider_zoom</span>
            <span class="types"><span class="type">boolean</span></span>
         (optional) defaults to false.
 Specifies whether the 2d zoom factor should be taken into account.
 Set to <i>true</i> if yes, <i>false</i> if not.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">number</span></span>
        width the width of the camera in game units</li>
        <li>
           <span class="types"><span class="type">number</span></span>
        height the height of the camera in game units</li>
    </ol>




</dd>
    <dt>
    <a name = "camera:getPixelDimensionsOnScreen"></a>
    <strong>camera:getPixelDimensionsOnScreen ()</strong>
    </dt>
    <dd>
    Get the dimensions of a camera on the actual
 screen.  It usually fills the whole window (= the full size of the
 resolution you specified in <a href="../modules/blitwizard.graphics.html#setMode">blitwizard.graphics.setMode</a>),
 but that may be changed with
 ???.



    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">number</span></span>
        width Width of the camera on the screen in pixels</li>
        <li>
           <span class="types"><span class="type">number</span></span>
        height Height of the camera on the screen in pixels</li>
    </ol>




</dd>
    <dt>
    <a name = "camera:new"></a>
    <strong>camera:new ()</strong>
    </dt>
    <dd>
    Add a new camera.
 Returns the new <a href="../modules/blitwizard.graphics.html#Class_camera">camera</a>, and
 it will be automatically part of the list of all followup
 <a href="../modules/blitwizard.graphics.html#getCameras">blitwizard.graphics.getCameras</a> calls aswell.
<p> If you want to get rid of it again, check out
 ???.







</dd>
    <dt>
    <a name = "camera:screenPosTo2dWorldPos"></a>
    <strong>camera:screenPosTo2dWorldPos (pos_x, pos_y, parallax)</strong>
    </dt>
    <dd>
    Specify a 2d position in the range from 0,0 to
 w,h with w,h being the camera visible area size
 as from ??? with consider_zoom set to <b>false</b>.
<p> (So the position you specify is the coordinates a
 ??? would have on screen
 or the coordinates you get from <a href="../modules/blitwizard.html#onMouseMove">blitwizard.onMouseMove</a>)
<p> The position can also be smaller than 0,0 or larger than the
 actual camera dimensions, in which case you'll get an out-of-screen
 world position as a result.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">pos_x</span>
            <span class="types"><span class="type">number</span></span>
         the X coordinate of the screen position
        </li>
        <li><span class="parameter">pos_y</span>
            <span class="types"><span class="type">number</span></span>
         the Y coordinate of the screen position
        </li>
        <li><span class="parameter">parallax</span>
            <span class="types"><span class="type">number</span></span>
         (optional) if you want, specify the ??? effect strength to get the world position displaced accordingly for an object with that parallax effect strength
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">number</span></span>
        X coordinate of the resulting world position</li>
        <li>
           <span class="types"><span class="type">number</span></span>
        Y coordinate of the resulting world position</li>
    </ol>




</dd>
    <dt>
    <a name = "camera:set2dCenter"></a>
    <strong>camera:set2dCenter (x_position, y_position)</strong>
    </dt>
    <dd>
    Set the camera's 2d center which is the position in the 2d world
 centered by the camera.  This allows you to move the camera's shown
 part of the 2d world around, focussing on other places.
<p> The position is specified in <b>game units</b> (the same units used
 for specifying the ???).
 The camera initially looks at position 0, 0.
<p> If you want the camera to follow a 2d object, simply use this function
 to set the 2d center to the coordinates of the object (you can do this
 in the object's ??? function).


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x_position</span>
            <span class="types"><span class="type">number</span></span>
         X position of the 2d point to look at
        </li>
        <li><span class="parameter">y_position</span>
            <span class="types"><span class="type">number</span></span>
         Y position of the 2d point to look at
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">
 <span class="comment">-- make the default camera look at position 3, 3:
</span> <span class="keyword">local</span> camera = blitwizard.graphics.getCameras()[<span class="number">1</span>]
 camera:set2dCenter(<span class="number">3</span>, <span class="number">3</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "camera:set2dZoomFactor"></a>
    <strong>camera:set2dZoomFactor (zoom_factor)</strong>
    </dt>
    <dd>
    Set the 2d zoom factor.  Only the 2d layer will be affected.
<p> A large zoom factor will zoom into the details of the scene,
 a small zoom factor will show more surroundings from a larger distance.
 (e.g. 2 means twice as large, 0.5 means half as large)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">zoom_factor</span>
            <span class="types"><span class="type">number</span></span>
         the new zoom factor
        </li>
    </ul>





</dd>
    <dt>
    <a name = "camera:setPixelDimensionsOnScreen"></a>
    <strong>camera:setPixelDimensionsOnScreen (width, height)</strong>
    </dt>
    <dd>
    Set the dimensions of a camera on the screen.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">width</span>
            <span class="types"><span class="type">number</span></span>
         Width of the camera on the screen in pixels
        </li>
        <li><span class="parameter">height</span>
            <span class="types"><span class="type">number</span></span>
         Height of the camera on the screen in pixels
        </li>
    </ul>





</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.0</a></i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
