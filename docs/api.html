<!DOCTYPE HTML>
<html>
<!--
This document is considered public domain.
Please modify, copy, share as you like.
Correct or complete information isn't guaranteed.
 -->
<head>
<style type="text/css">
a[href] {
	color:#00f;
	text-decoration:none;
}
a[href]:hover {
	color:#00f;
	text-decoration:underline;
}
body,html {
	font-family:Arial,DejaVu Sans;
	font-size:1em;
	background-color:#fff;
	color:#000;
}
h1 {
	font-size:1.5em;
}
h2 {
	font-size:1.2em;
}
li h2 {
	background-color:#cee;
}
ul {
	list-style-type:none;
}
.parameters {
	list-style-type:disc;
}
.toc {
	list-style-type:disc;
}
.code {
	padding:1em;
	border:1px solid #000;
	font-family:monospace;
	white-space:pre;
}
</style>
<body>
<a name="0toc"><h1>0. Table of Contents</h1></a>
<ul class="toc">
<li><a href="#1introduction">1. Introduction</a></li>
<li><a href="#2summary">2. API summary and document structure</a></li>
<li><a href="#3blitwiz.graphics">3. <i>blitwiz.graphics</i> namespace</a></li>
<li><a href="#4blitwiz.on_*">4. Event callbacks</a></li>
<li><a href="#5blitwiz.sound">5. <i>blitwiz.sound</i> namespace</a></li>
<li><a href="#6os">6. <i>os</i> standard namespace extension</a></li>
<li><a href="#7string">7. <i>string</i> standard namespace extension</a></li>
</ul>
<a name="1introduction"><h1>1. Introduction</h1></a>
<p>This document describes the blitwizard Lua api with all provided functions.
Since blitwizard is intended for use with Lua 5 (which it includes),
those are mainly the functions you will use to program your games.</p>
<p>Event callbacks are also listed in the <a href="#4blitwiz.on_*">event section</a>.</p>
<p>If this document refers to namespaces, this actually means the Lua tables in
the global space that hold sub functions and variables conveniently packed into
common modules, e.g. the string table or the os table of the standard lib.</p>
<a name="2summary"><h1>2. API summary and document structure</h1></a>
<p>
Blitwizard mainly comes with an own blitwiz namespace, but also extends the Lua 5
standard library which it contains. The Lua 5 standard functions are <b>not</b> described
here but nevertheless important for using Lua, so
<a href="http://www.lua.org/manual/5.1/manual.html#5">take a look at Lua's standard lib reference</a>
if you aren't familiar with them.</p>
<p>The blitwizard extensions to the standard library however, consisting of additional
functions added to the Lua 5 standard namespaces,
e.g. <a href="#7string">additional string functions</a>, are described in this document.</p>
<p>All functions listed in this document are listed with their names, parameters and return value,
whereas a parameter type and return value type
is specified.
Of course Lua allows you to specify variables of any type as parameter,
but most functions will error if you submit an unfitting type.
The types are specified
in brackets behind the parameters like this: <i>(number)</i>. The return value is
described in the more lengthy description which
follows each listed function.</p>
<p>Those types refer to standard Lua 5 variable types: <i>number, string, boolean, nil</i></p>
<p>Those types are special blitwizard types which you can only use with blitwizard functions:
<ul>
<li><i><a name="sound_handle">sound handle</a></i> &mdash; specifies a played sound. You can use the handle to check whether it still plays or whether it stopped and it allows you to modify some things afterwards (e.g. abort the sound). If you play the same sound file many times, you will always get different sound handles for each separately played sound</li>
</ul>
</p>
<p>The Lua 5 of blitwizard is mostly compiled with standard settings, e.g. numbers
being double 64bit floating point numbers. Null bytes in strings are generally not
supported by functions in the blitwiz namespace (those will cut the string off at the
first null byte), while all extension functions put into the standard namespaces (like
the string functions) can deal with null bytes similar to Lua's own internal string
functions.</p>
<a name="3blitwiz.graphics"><h1>3. <i>blitwiz.graphics</i> namespace</h1></a>
<ul>

<li><h2><a name="blitwiz.graphics.drawImage">blitwiz.graphics.drawImage</a>(filename <i>(string)</i>, x position <i>(number)</i>, y position <i>(number)</i>, alpha <i>(number)</i>, cutx <i>(number)</i>, cuty <i>(number)</i>, cutwidth <i>(number)</i>, cutheight <i>(number)</i>)</h2>
<p>
Draw a fully loaded image (see <a href="#blitwiz.graphics.loadImage">blitwiz.graphics.loadImage</a> and <a href="#blitwiz.on_image">on_image</a>).
Throws an error if the image isn't fully loaded.
Don't use this call anywhere else than from inside <a href="#blitwiz.on_draw">on_draw</a>.
</p>
<p>
Parameters:
<ul class="parameters">
<li>filename <i>(string)</i> &mdash; specify the filename/path of the loaded image</li>
<li>x position <i>(number)</i> &mdash; horizontal position in pixels (0 is left, positive goes right) on the screen, negative coordinates are also allowed (image will be blitted partly or fully moved out of the screen)</li>
<li>y position <i>(number)</i> &mdash; vertical position in pixels (0 is top, positive goes downwards) on the screen, negative coordinates possible (see above)</li>
<li>alpha <i>(number, optional)</i> &mdash; alpha transparency in the range 0..1, with 0 being completely invisible and 1 fully opaque. Default is 1</li>
<li>cutx <i>(number, optional)</i> &mdash; cut off the given amount of pixels from the left border of the image before drawing it. Use this to draw only a smaller part of an image. Default is 0 (no cutoff)</li>
<li>cuty <i>(number, optional)</i> &mdash; cut off the given amount of pixels from the top border of the image before drawing it. Default is 0 (no cutoff)</li>
<li>cutwidth <i>(number, optional)</i> &mdash; cut the image (after applying cutx and cuty) to the given maximum width before drawing it. Default is infinite (no cutoff)</li>
<li>cutheight <i>(number, optional)</i> &mdash; cut the image (after applying cutx and cuty) to the given maximum height before drawing it. Default is infinite (no cutoff)</li>
</ul>
</p>
<p>
Return value: <i>nil</i> &mdash; none
</p>
<p>
Examples:
<div class="code">-- Draw an image at position 5,5 into the currently opened output window
blitwiz.graphics.drawImage("mypicture.png", 5, 5)

-- Draw the image again moved to the right with only 75% visibility (slightly transparent):
blitwiz.graphics.drawImage("mypicture.png", 150, 5, 0.75)
</div>
<p>
</li>

<li><h2><a name="blitwiz.graphics.drawRectangle">blitwiz.graphics.drawRectangle</a>(x <i>(number)</i>, y <i>(number)</i>, width <i>(number)</i>, height <i>(number)</i>, red <i>(number)</i>, green <i>(number)</i>, blue <i>(number)</i>, alpha <i>(number)</i>)</h2>
<p>
Draw a simple colored filled rectangle at the given coordinates with the given dimensions.
</p>
<p>
Parameters:
<ul class="parameters">
<li>x <i>(number)</i> &mdash; x drawing position</li>
<li>y <i>(number)</i> &mdash; y drawing position</li>
<li>width <i>(number)</i> &mdash; rectangle width</li>
<li>height <i>(number)</i> &mdash; rectangle height</li>
<li>red <i>(number)</i> &mdash; red color value of the rectangle's color (in a range from 0 to 1)</li>
<li>blue <i>(number)</i> &mdash; blue color value of the rectangle's color (in a range from 0 to 1)</li>
<li>green <i>(number)</i> &mdash; green color value of the rectangle's color (i n a range from 0 to 1)</li>
<li>alpha <i>(number, optional)</i> &mdash; alpha opaque value for the rectangle, which is a value between 0 (meaning invisible) and 1 (for fully visible/solid). Default is 1</li>
</ul>
</p>
<p>
Example:
<div class="code">-- Fill whole screen with a blue/greenish rectangle
local w,h = blitwiz.graphics.getWindowSize()
blitwiz.graphics.drawRectangle(0, 0, w, h, 0, 0.5, 1)
</div>
</p>
</li>

<li><h2><a name="blitwiz.graphics.getImageSize">blitwiz.graphics.getImageSize</a>(filename <i>(string)</i>)</h2>
<p>
Returns the size of a fully loaded image (see <a href="#blitwiz.graphics.loadImage">blitwiz.graphics.loadImage</a> and <a href="#blitwiz.on_image">on_image</a>).
Throws an error if the image isn't fully loaded.
</p>
<p>
Parameters:
<ul class="parameters">
<li>filename <i>(string)</i> &mdash; specify the filename/path of the loaded image</li>
</ul>
</p>
<p>
Return values: image width <i>(number)</i>, image height <i>(number)</i>
</p>
<p>
Example:
<div class="code">-- Output the size of an image
local w,h = blitwiz.graphics.getImageSize("mypicture.png")
print("The size of mypicture.png is: " .. tostring(w) .. "," .. tostring(h))
</div>
</p>
</li>

<li><h2><a name="blitwiz.graphics.getRendererName">blitwiz.graphics.getRendererName</a>()</h2>
<p>
Get the name of the currently used graphics renderer or nil if no window is open.
</p>
<p>Parameters: None</p>
<p>Return values: renderer name <i>(string)</i> or nil</p>
</li>

<li><h2><a name="blitwiz.graphics.getWindowSize">blitwiz.graphics.getWindowSize</a>()</h2>
<p>
Returns the size of the currently open window (see <a href="#blitwiz.graphics.setWindow">blitwiz.graphics.setWindow</a>).
Throws an error if no window is open.
</p>
<p>
Parameters: None
</p>
<p>
Return values: window width <i>(number)</i>, window height <i>(number)</i>
</p>
</li>

<li><h2><a name="blitwiz.graphics.loadImage">blitwiz.graphics.loadImage</a>(filename <i>(string)</i>)</h2>
<p>
Prompt an image file for loading for use in drawing operations and wait for it to be loaded.
This needs to be done
for any image you want to use with e.g. <a href="#blitwiz.graphics.drawImage">blitwiz.graphics.drawImage</a>
later.
Throws an error when image loading fails.
</p>
<p>Currently supported file formats: PNG (.png)</p>
<p>Calling <a href="#blitwiz.graphics.loadImage">blitwiz.graphics.loadImage</a>
when the image has been loaded already or when loading is already in progress through a call
to <a href="#blitwiz.graphics.loadImageAsync">blitwiz.graphics.loadImageAsync</a>
will lead to an error being thrown.
<p>
Parameters:
<ul class="parameters">
<li>filename <i>(string)</i> &mdash; specify the filename/path of the image</li>
</ul>
</p>
<p>
Return value: <i>nil</i> &mdash; none
</p>
<p>
Example:
<div class="code">-- Load an image:
blitwiz.graphics.loadImage("mypicture.png")

-- You can now use the image instantly for drawing with <a href="#blitwiz.graphics.drawImage">blitwiz.graphis.drawImage</a>
</div>
</p>
</li>


<li><h2><a name="blitwiz.graphics.loadImageAsync">blitwiz.graphics.loadImageAsync</a>(filename <i>(string)</i>)</h2>
<p>
Prompt an image file for loading for use in drawing operations but don't wait for it to finish loading (unlike <a href="#blitwiz.graphics.loadImage">blitwiz.graphic.loadImage</a>).
</p>
<p>
Image loading is done in the
background while the script execution and engine operation continues fully, and as soon as the image
loading process has finished, you'll get an <a href="#blitwiz.on_image">on_image</a> event call.
<p>
<p>Do not use any image for drawing before you got the on_image event with reported success! It will
result in an error being thrown.</p>
<p>Calling <a href="#blitwiz.graphics.loadImageAsync">blitwiz.graphics.loadImageAsync</a>
when the image is already being loaded simply does nothing. As soon as an
<a href="#blitwiz.on_image">on_image</a> event reports success, any further
calls attempting to load such an image will result in an error that the image
is already loaded.
If <a href="#blitwiz.on_image">on_image</a> reported failure, you can retry
<a href="#blitwiz.graphics.loadImageAsync">blitwiz.graphics.loadImageAsync</a>
(or <a href="#blitwiz.graphics.loadImage">blitwiz.graphics.loadImage</a>) safely.
<p>
Parameters:
<ul class="parameters">
<li>filename <i>(string)</i> &mdash; specify the filename/path of the image</li>
</ul>
</p>
<p>
Return value: <i>nil</i> &mdash; none
</p>
<p>
Example:
<div class="code">-- Load an image:
blitwiz.graphics.loadImageAsync("mypicture.png")

-- Here at this point, the image is NOT available for use yet, so drawing and all that will fail.
-- We need to wait for an <a href="#blitwiz.on_image">on_image</a> event first!
</div>
</p>
</li>

<li><h2><a name="blitwiz.graphics.setWindow">blitwiz.graphics.setWindow</a>(width <i>(number)</i>, height <i>(number)</i>, title<i>(string)</i>, fullscreen<i>(boolean)</i>, renderer<i>(string)</i>)</h2>
<p>
Open a new graphics output window, or change the settings for a currently opened
window in case there is one already opened.
You can also <i>close</i> the window by passing no parameters.
If there is a problem opening a window,
an error will be triggered.
</p>
<p></p>
<p>
You should expect errors for two cases: fullscreen windows with an unsupported
resolution (in such case, you could automatically retry with windowed mode), and driver issues
which make the renderer unable to startup.
Blitwizard mostly picks an accelerated renderer (either "direct3d" or "opengl")
per default, see renderer parameter below, so you can try to specify "software" as a fallback
in case of an error to see if that one works.
</p>
<p>
Texture loading is possible without any open window, and textures remain
available even if you call setWindow again or setWindow fails.
As soon as setWindow succeeds
in creating or changing a window, you will be able to use all previously loaded
textures instantly
without any further actions required.
</p>
<p>
Please note on a renderer change, this function call can take a few seconds of time
which it needs for transferring all the textures to the new renderer - it will block
and only return as soon as the renderer change is complete.
</p>
<p>
Parameters:
<ul class="parameters">
<li>width <i>(number)</i> &mdash; specify the width (in pixels) of the output window</li>
<li>height <i>(number)</i> &mdash; specify the height (in pixels) of the output window</li>
<li>title <i>(string, optional)</i> &mdash; specify a window title for the title bar</li>
<li>fullscreen <i>(boolean, optional)</i> &mdash; specify if the window should be fullscreen (true) or not (false) - default is false</li>
<li>renderer <i>string</i> &mdash; specify a preferred renderer. this specifies the
backend blitwizard will use to output the graphics, which can be one of the following:
"software", "direct3d", "opengl". Please note that "direct3d" is only available on Windows systems!
<p>Generally you shouldn't force anything here, except if you want to allow the user to specify a
renderer explicitely or when setWindow fails with the default choice (which is different depending
on various things like the platform).
</p>
<p>
In such a case, make sure to call <a href="#os.systemname">os.systemname</a> and check for "windows"
before you offer or attempt to use direct3d.
</p>
</li>
</ul>
</p>
<p>
Example:
<div class="code">-- Attempt to run in fullscreen and open a window if that doesn't work

local function openwindowfullscreen()
	blitwiz.graphics.setWindow(800,600,"My Game",true)
end

-- Attempt fullscreen first
local success = pcall(openwindowfullscreen)
if success ~= true then
	-- Fallback to windowed mode
	blitwiz.graphics.setWindow(800,600,"My Game",false)
end
</div>
</p>
</li>

</ul>
<a name="4blitwiz.on_*"><h1>4. Event callbacks</h1></a>
<ul>

<li><h2><a name="blitwiz.on_close">blitwiz.on_close</a>()</h2>
<p>
If you define this function in your program in the global space,
it will be called when the user clicks the close button in the
title bar (in windowed mode).
</p>
<p>
If you don't do anything, the user will be unable to easily close
the window! Therefore, it is recommended you put this code into
your programs if you don't wish to add special confirmation questions
which should delay the termination progress:
</p>
<p>
<div class="code">function blitwiz.on_close()
	os.exit(0)
end
</div>
</p>
</li>

<li><h2><a name="blitwiz.on_draw">blitwiz.on_draw</a>()</h2>
<p>
If you define this function in your program in the global space, it will be called
each time blitwizard scheduled a redraw (this happens automatically many times in
a second, you don't have to do anything for it).
</p>
<p>Place all your <a href="#blitwiz.graphics.drawImage">blitwiz.graphics.drawImage</a>
calls into this function. Put any game logic and physics into
<a href="#blitwiz.on_step">on_step</a>.
</p>
</li>

<li><h2><a name="blitwiz.on_image">blitwiz.on_image</a>(texture name <i>(string)</i>, result <i>(boolean)</i>)</h2>
<p>
If you define this function in your program in the global space, it will be called
as soon as an image from a <a href="#blitwiz.grapihcs.loadImageAsync">blitwiz.graphics.loadImageAsync</a>
has either finished loading and is now available for drawing
operations, or if an image has failed loading and won't be available at all.
</p>
<p>
Parameters:
<ul class="parameters">
<li>texture name <i>(string)</i> &mdash; contains the texture path (which was originally
provided to <a href="#blitwiz.graphics.loadImageAsync">blitwiz.graphics.loadImageAsync</a>)</li>
<li>result <i>(boolean)</i> &mdash; indicates whether the image has been successfully loaded (in which case
it will be true), or failed to load (in which case it will be false)</li>
</ul>
</p>
<p>
Example:
<div class="code">--Print out the loading result of any loaded image
function blitwiz.on_image(texture, result)
	if result == true then
		print ("Image " .. texure .. " has been loaded and is now available for drawing.")
	else
		print ("Image " .. texture .. " failed to load!")
	end
end
</div>
</p>
</li>

<li><h2><a name="blitwiz.on_init">blitwiz.on_init</a>()</h2>
<p>
This function is called once when blitwizard starts.
You should open a window here if you wish to do graphical things.
</p>
<p>
Please note when this functions returns without any window being open,
blitwizard quits (instead of calling
<a href="#blitwiz.on_step">on_step</a>
and
<a href="#blitwiz.on_draw">on_draw</a>
constantly and keeping your game running even if the window is later
temporarily closed).
This is done to support short Lua command line programs aswell.
</p>
<p>
Example:
<div class="code">function blitwiz.on_init()
	-- Open a window
	blitwiz.graphics.setWindow(400,300)
end
</div>
</p>
</li>

<li><h2><a name="blitwiz.on_keydown">blitwiz.on_keydown</a>(key <i>(string)</i>)</h2>
<h2><a name="blitwiz.on_keyup">blitwiz.on_keyup</a>(key <i>(string)</i>)</h2>
<p>
If you define those functions in your program in the global space, they
will be called when the user presses (on_keydown) or releases (on_keyup) a key.
</p>
<p>
Please note you should use those functions only for key bindings/action keys,
not to gather real text input. The reason is that on
non-English computers, multiple key presses might together generate another character
(one char through multiple key presses, not one char per key press) which this function
will not take into account. Use the <a href="#blitwiz.on_text">on_text</a> event for
multi-language text input support.
</p>
<p>
Parameters:
<ul class="parameters">
<li>key <i>(string)</i> &mdash; a string that describes the key. See <a href="keylist.html">the key list</a> for a complete list of supported keys</li>
</ul>
</p>
<p>
Example:
<div class="code">function blitwiz.on_keydown(key)
	if key == "escape" then
		-- Quit the program
		os.exit(0)
	end
end
</div>
</p>
</li>

<li><h2><a name="blitwiz.on_mousedown">blitwiz.on_mousedown</a>(button <i>(number)</i>, x <i>(number)</i>, y <i>(number)</i>)</h2>
<h2><a name="blitwiz.on_mouseup">blitwiz.on_mouseup</a>(button <i>(number)</i>, x <i>(number)</i>, y <i>(number)</i>)</h2>
<p>
If you define those functions in your program in the global space, they
will be called when the user presses (on_mousedown) or releases (on_mouseup)
a mouse button.
</p>
<p>
Parameters:
<ul class="parameters">
<li>button <i>(number)</i> &mdash; the mouse button pressed or released, 1 for left, 2 for right, 3 for middle, 4...</li>
<li>x <i>(number)</i> &mdash; the mouse position's x coordinate where the action was triggered</li>
<li>y <i>(number)</i> &mdash; the mouse position's y</li>
</ul>
</p>
<p>
Example:
<div class="code">--Terminate the program when the user clicks the upper left corner of the drawing area:
function blitwiz.on_mousedown(button, x, y)
	if x &lt; 50 and y &lt; 50 then
		-- Quit the program
		os.exit(0)
	end
end
</div>
</p>
</li>

<li><h2><a name="blitwiz.on_mousemove">blitwiz.on_mousemove</a>(x <i>(number)</i>, y <i>(number)</i>)</h2>
<p>
If you define this function in your program in the global space,
it will be called when the mouse is moved over the drawing area of the window.
Mouse movements outside of the window are not detected.
</p>
<p>
Parameters:
<ul class="parameters">
<li>x <i>(number)</i> &mdash; the mouse position's x coordinate where the action was triggered</li>
<li>y <i>(number)</i> &mdash; the mouse position's y</li>
</ul>
</p>
</li>

<li><h2><a name="blitwiz.on_step">blitwiz.on_step</a>()</h2>
<p>
This function is called constantly every 16ms (that is 62.5 times a second).
While blitwizard cannot guarantee that this amount of time is exactly met
each cycle, it will guarantee this amount of time is met on average (so up
to a larger span like one second, those amount of cycles is pretty much set
in stone).
</p>
<p>
In this function, you should do all game logic (like calculating speed,
movement, new positions), not any drawing. Due to the guaranteed constantness,
you will not need to do any sort of time measurement and adaption for the
<a href="http://en.wikipedia.org/wiki/Frame_rate">FPS</a>
of the game for yourself - the fixed call interval of
<a href="#blitwiz.on_step">on_step</a> will make this completely
unnecessary.
</p>
<p>
Drawing, which needs more processing time than the logic usually,
happens independently in <a href="#blitwiz.on_draw">on_draw</a> and
is subject to the usual fluctuations in speed and still highly depends
on the machine the game runs on for its varying interval.
</p>
<p>
Please note that there is one little exception to the constantness: If you do
very computationally extensive activies like pathfinding, moving massive amount
of enemies or blocking activies like file disk access, you will indeed break
the constant interval calls.
</p>
<p>Doing this rarely (e.g. with a file disk access
for loading something at loading screen time) is no problem, but if you exceed
your time constantly, the game will simply lag as hell :-) so while this problem
should be usually no issue to be avoided if you take a bit care of what and how
much you're doing, you should keep this limitation in mind.
</p>
<p>
Example:
<div class="code">--Terminate the program when the user clicks the upper left corner of the drawing area:
function blitwiz.on_mousedown(button, x, y)
	if x &lt; 50 and y &lt; 50 then
		-- Quit the program
		os.exit(0)
	end
end
</div>
</p>
</li>

<li><h2><a name="blitwiz.on_text">blitwiz.on_text</a>(text <i>(string)</i>)</h2>
<p>
If you define this function in your program in the global space,
it will be called anytime the user enters text (in parallel to the
<a href="#blitwiz.on_keydown">on_keydown</a> and <a href="#blitwiz.on_keyup">on_keyup</a>
events).
</p>
<p>Unlike the on_keydown/on_keyup events however, the text
input event processes all key press combinations even on foreign
language keyboards properly to generate according Utf-8 output
with any sort of characters that might be entered in any supported
language.
This is accomplished using the advanced Utf-8 processing of the
<a href="http://libsdl.org/">SDL library</a>.
</p>
<p>Please note you still need to take care of actually rendering
those Utf-8 strings yourself for good foreign language support,
since the <a href="templates/font/api.html">font renderer template</a>
cannot exactly process much.
</p>
<p>
Parameters:
<ul class="parameters">
<li>text <i>(string)</i> &mdash; the new letter of group of letters entered, Utf-8 encoded for non-ASCII letters</li>
</ul>
</p>
</li>

</ul>
<a name="5blitwiz.sound"><h1>5. <i>blitwiz.sound</i> namespace</h1></a>
<ul>

<li><h2><a name="blitwiz.sound.getBackendName">blitwiz.sound.getBackendName</a>()</h2>
<p>
Get the name of the currently active audio backend, which can be e.g. "directsound" or "waveout" on Windows, "alsa" or "oss" on Linux, or "coreaudio" for Mac.
</p>
<p>Parameters: None</p>
<p>Return values: backend name <i>(string)</i></p>
</li>

<li><h2><a name="blitwiz.sound.play">blitwiz.sound.play</a>(path <i>(string)</i>, volume <i>(number)</i>, panning <i>(number)</i>, loop <i>(boolean)</i>, priority <i>(number)</i>, fadein <i>(number)</i>)</h2>
<p>
Play the sound file found at the given path. The sound will be decoded and read on-the-fly,
so this function usually causes no load delay.
</p>
<p>
Currently supported audio file formats: .ogg<br>
<br>(mp3 is <b>not</b> supported)</small>
</p>
<p>If a sound fails to play because the file on disk cannot be opened/read, it will throw an error. If a sound fails to play because all slots are used by higher priority sounds (see remark on the priority parameter below), it will return a sound handle without error but simply not play the sound.
<p>
Parameters:
<ul class="parameters">
<li>path <i>(string)</i> &mdash; the path to the audio file</li>
<li>volume <i>(number, optional)</i> &mdash; volume from 0 (silent) to 1 (full volume), default is 1</li>
<li>panning <i>(number, optional)</i> &mdash; stereo panning from -1 (left) to 1 (right), default is 0 (center)</li>
<li>loop <i>(boolean, optional)</i> &mdash; specify whether the sound should be looped forever with true, or just played once with false. default is false</li>
<li>priority <i>(number, optional)</i> &mdash; specify the priority of a sound. The amount of sounds that can play at once is limited, and a higher priority sound will always kill a lower priority sound to gain a slot. A lower priority sound might not be played at all if all slots are occupied with higher priority sounds. Using high priority for music is suggested. The priority is a positive number starting from 0 upwards (higher number is higher priority). If you specify no priority (default), the sound is even less priority than a sound with any specified priority</li>
<li>fadein <i>(number, optional)</i> &mdash; the amount of seconds to use for a fadein effect. E.g. specify 1.5 to fade in from silent to the specified volume in 1.5 seconds. Default: 0 (instant full volume)</li>
</ul>
</p>
<p>
Return values: sound handle <i>(<a href="#sound_handle">sound handle</a>)</i>
</p>
<p>
Examples:
<div class="code">-- Simply play a sound:
blitwiz.sound.play("buzz.ogg")
</div>
&nbsp;
<div class="code">-- Play a long ambient sound at 50% volume with 25% panning to the left, looping forever:
blitwiz.sound.play("ambient.ogg", 0.5, -0.5, true)
</div>
&nbsp;
<div class="code">-- Play a music track at 80% volume, looping forever with high priority
blitwiz.sound.play("music.ogg", 0.8, 0, true, 50)
</div>
</p>
</li>

</ul>


<a name="6os"><h1>6. <i>os</i> standard namespace extension</h1></a>
<ul>

<li><h2><a name="os.chdir">os.chdir</a>(path <i>(string)</i>)</h2>
<p>
Change the Current Working Directory to the given path.
The path can be a relative path to the current working dir,
or an absolute folder path.
</p>
<p>
The target must be a folder obviously. If changing the directory
fails (e.g. due to insufficient privilegues), an error is thrown.
</p>
<p>
<b>Important:</b>
You should use / as a cross-platform folder delimeter in blitwizard,
NOT \ which is only safe on Windows:
<div style="font-style:italic">Correct:</div>
<div class="code">folder/subfolder/
C:/testfolder/
</div>
<div style="font-style:italic">Wrong:</div>
<div class="code">C:\testfolder\
</div>
</p>
<p>
Parameters:
<ul class="parameters">
<li>path <i>(string)</i> &mdash; the path to change the current working directory to</li>
</ul>
</p>
</li>

</ul>
<a name="7string"><h1>6. <i>string</i> standard namespace extension<h1></a>
<ul>



</ul>
</body>
</html>
